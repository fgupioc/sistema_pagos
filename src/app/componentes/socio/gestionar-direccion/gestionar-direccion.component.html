<div class="modal-content" [formGroup]="form">
    <div class="modal-header">
        <h4 class="modal-title">{{ (accion == '1') ? 'Nueva' : 'Editar' }} Dirección</h4>
        <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss()">
          <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label>Tipo Dirección</label>
                    <select class="form-control" formControlName="tipoDireccion" [ngClass]="{
                            'is-invalid': form.controls['tipoDireccion'].touched && form.controls['tipoDireccion'].errors,
                            'is-valid': form.controls['tipoDireccion'].touched && !form.controls['tipoDireccion'].errors
                             }">
            <option *ngFor="let item of tipoDirecciones" [value]="item.codigoItem">{{ item.nombre }}</option>
          </select>
                    <div class="invalid-feedback">
                        <span *ngIf="form.get('tipoDireccion').hasError('required')">El campo tipo de dirección es obligatorio.</span>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Tipo Vivienda</label>
                    <select class="form-control" formControlName="tipoVivienda" [ngClass]="{
                            'is-invalid': form.controls['tipoVivienda'].touched && form.controls['tipoVivienda'].errors,
                            'is-valid': form.controls['tipoVivienda'].touched && !form.controls['tipoVivienda'].errors
                             }">
            <option *ngFor="let item of tipoViviendas" [value]="item.codigoItem">{{ item.nombre }}</option>
          </select>
                    <div class="invalid-feedback">
                        <span *ngIf="form.get('tipoVivienda').hasError('required')">El campo tipo vivienda es obligatorio.</span>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Tipo Vía</label>
                    <select class="form-control" formControlName="tipoVia" [ngClass]="{
                            'is-invalid': form.controls['tipoVia'].touched && form.controls['tipoVia'].errors,
                            'is-valid': form.controls['tipoVia'].touched && !form.controls['tipoVia'].errors
                             }">
            <option *ngFor="let item of tipoVias" [value]="item.codigoItem">{{ item.nombre }}</option>
          </select>
                    <div class="invalid-feedback">
                        <span *ngIf="form.get('tipoVia').hasError('required')">El campo tipo de via es obligatorio.</span>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Nombre Via</label>
                    <input Uppercase type="text" class="form-control" formControlName="nombreVia" max="100" [ngClass]="{
                            'is-invalid': form.controls['nombreVia'].touched && form.controls['nombreVia'].errors,
                            'is-valid': form.controls['nombreVia'].touched && !form.controls['nombreVia'].errors
                             }">
                    <div class="invalid-feedback">
                        <span *ngIf="form.get('nombreVia').hasError('required')">El campo nombre de la via es obligatorio.</span>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Nro.</label>
                    <input Number type="text" class="form-control" formControlName="numero" maxlength="4" [ngClass]="{
                            'is-invalid': form.controls['numero'].touched && form.controls['numero'].errors,
                            'is-valid': form.controls['numero'].touched && !form.controls['numero'].errors
                             }">
                    <div class="invalid-feedback">
                        <span *ngIf="form.get('numero').hasError('required')">El campo número es obligatorio.</span>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Mz.</label>
                    <input Uppercase type="text" class="form-control" formControlName="manzana" maxlength="4" (change)="cambioManzana($event.target.value)" [ngClass]="{
                            'is-invalid': form.controls['manzana'].touched && form.controls['manzana'].errors,
                            'is-valid': form.controls['manzana'].touched && !form.controls['manzana'].errors
                             }">
                    <div class="invalid-feedback">
                        <span *ngIf="form.get('manzana').hasError('required')">El campo manzána es obligatorio.</span>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Lt.</label>
                    <input Number type="text" class="form-control" formControlName="lote" maxlength="4" [ngClass]="{
                            'is-invalid': form.controls['lote'].touched && form.controls['lote'].errors,
                            'is-valid': form.controls['lote'].touched && !form.controls['lote'].errors
                             }">
                    <div class="invalid-feedback">
                        <span *ngIf="form.get('lote').hasError('required')">El campo lóte es obligatorio.</span>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Tipo Sección</label>
                    <select class="form-control" formControlName="tipoSeccion" (change)="cambioTipoSeccion($event.target.value)" [ngClass]="{
                            'is-invalid': form.controls['tipoSeccion'].touched && form.controls['tipoSeccion'].errors,
                            'is-valid': form.controls['tipoSeccion'].touched && !form.controls['tipoSeccion'].errors
                             }">
                        <option [value]="0">&nbsp;</option>
                        <option *ngFor="let item of tipoSecciones" [value]="item.codigoItem">{{ item.nombre }}</option>
                    </select>
                    <div class="invalid-feedback">
                        <span *ngIf="form.get('tipoSeccion').hasError('required')">El campo tipo de sección es obligatorio.</span>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Número <span>{{ $sectionName }}</span></label>
                    <input Number type="text" class="form-control" formControlName="numeroSeccion" maxlength="4" [ngClass]="{
                            'is-invalid': form.controls['numeroSeccion'].touched && form.controls['numeroSeccion'].errors,
                            'is-valid': form.controls['numeroSeccion'].touched && !form.controls['numeroSeccion'].errors
                             }">
                    <div class="invalid-feedback">
                        <span *ngIf="form.get('numeroSeccion').hasError('required')">El campo número de sección es obligatorio.</span>
                        <span *ngIf="form.get('numeroSeccion').hasError('pattern')">El campo solo acepta números.</span>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Tipo Zona</label>
                    <select class="form-control" formControlName="tipoZona" (change)="cambioTipoZona($event.target.value)" [ngClass]="{
                            'is-invalid': form.controls['tipoZona'].touched && form.controls['tipoZona'].errors,
                            'is-valid': form.controls['tipoZona'].touched && !form.controls['tipoZona'].errors
                             }">
                        <option *ngFor="let item of tipoZonas" [value]="item.codigoItem">{{ item.nombre }}</option>
                    </select>
                    <div class="invalid-feedback">
                        <span *ngIf="form.get('tipoZona').hasError('required')">El campo tipo de zona es obligatorio.</span>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Nombre <span>{{ $zoneName }}</span></label>
                    <input Uppercase type="text" class="form-control" formControlName="nombreZona" max="100" [ngClass]="{
                            'is-invalid': form.controls['nombreZona'].touched && form.controls['nombreZona'].errors,
                            'is-valid': form.controls['nombreZona'].touched && !form.controls['nombreZona'].errors
                             }">
                    <div class="invalid-feedback">
                        <span *ngIf="form.get('nombreZona').hasError('required')">El campo nombre de zona es obligatorio.</span>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Tipo Sector</label>
                    <select class="form-control" formControlName="tipoSector" (change)="cambioTipoSector($event.target.value)" [ngClass]="{
                            'is-invalid': form.controls['tipoSector'].touched && form.controls['tipoSector'].errors,
                            'is-valid': form.controls['tipoSector'].touched && !form.controls['tipoSector'].errors
                             }">
            <option [value]="0">&nbsp;</option>
            <option *ngFor="let item of tiposSectores" [value]="item.codigoItem">{{ item.nombre }}</option>
          </select>
                    <div class="invalid-feedback">
                        <span *ngIf="form.get('tipoSector').hasError('required')">El campo tipo de sector es obligatorio.</span>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Nombre <span>{{ $sectorName }}</span></label>
                    <input Uppercase type="text" class="form-control" formControlName="nombreSector" max="100" [ngClass]="{
                            'is-invalid': form.controls['nombreSector'].touched && form.controls['nombreSector'].errors,
                            'is-valid': form.controls['nombreSector'].touched && !form.controls['nombreSector'].errors
                             }">
                    <div class="invalid-feedback">
                        <span *ngIf="form.get('nombreSector').hasError('required')">El campo nombre de sector es obligatorio.</span>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Departamento</label>
                    <select class="form-control" formControlName="departamento" (change)="listarProvincias()" [ngClass]="{
                            'is-invalid': form.controls['departamento'].touched && form.controls['departamento'].errors,
                            'is-valid': form.controls['departamento'].touched && !form.controls['departamento'].errors
                             }">
            <option *ngFor="let item of departamentos"
                    [value]="item.codDepartamento">{{ item.descripcion.toUpperCase() }}</option>
          </select>
                    <div class="invalid-feedback">
                        <span *ngIf="form.get('departamento').hasError('required')">El campo departamento es obligatorio.</span>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Provincia</label>
                    <select class="form-control" formControlName="provincia" (change)="listarDistritos()" [ngClass]="{
                            'is-invalid': form.controls['provincia'].touched && form.controls['provincia'].errors,
                            'is-valid': form.controls['provincia'].touched && !form.controls['provincia'].errors
                             }">
            <option *ngFor="let item of provincias"
                    [value]="item.codProvincia">{{ item.descripcion.toUpperCase() }}</option>
          </select>
                    <div class="invalid-feedback">
                        <span *ngIf="form.get('provincia').hasError('required')">El campo provincia es obligatorio.</span>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Distrito</label>
                    <select class="form-control" formControlName="distrito" [ngClass]="{
                            'is-invalid': form.controls['distrito'].touched && form.controls['distrito'].errors,
                            'is-valid': form.controls['distrito'].touched && !form.controls['distrito'].errors
                             }">
            <option *ngFor="let item of distritos"
                    [value]="item.codDistrito">{{ item.descripcion.toUpperCase() }}</option>
          </select>
                    <div class="invalid-feedback">
                        <span *ngIf="form.get('distrito').hasError('required')">El campo distrito es obligatorio.</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-success" [disabled]="form.invalid" (click)="agregar()">Agregar</button>
        <button type="button" class="btn btn-outline-dark" (click)="activeModal.close()">Cerrar</button>
    </div>
</div>